<BSkyCanvas internalhelpfilename="One Sample T Test_1.pdf" Title="Compute (Apply a function across all rows)" ModelClasses="{x:Null}" StatusTextBoxName="{x:Null}" customsyntax="{x:Null}" EditableComboBoxName="{x:Null}" RPackages="dplyr" CanExecute="True" PrereqCommandString="{x:Null}" CommandString="#Apply function to all rows&#xD;&#xA;{{%DATASET%}}${{newvar}} &lt;-{{%DATASET%}}  %&gt;% select({{target}}) %&gt;% apply(1, {{selectctrl}}, na.rm = TRUE)&#xD;&#xA;#Refresh the dataset in the grid&#xA;BSkyLoadRefreshDataframe({{%DATASET%}})&#xA;&#xA;" dlgsyntax="#Apply function to all rows&#xD;&#xA;{{%DATASET%}}${{newvar}} &lt;-{{%DATASET%}}  %&gt;% select({{target}}) %&gt;% apply(1, {{selectctrl}}, na.rm = TRUE)&#xD;&#xA;#Refresh the dataset in the grid&#xA;BSkyLoadRefreshDataframe({{%DATASET%}})&#xA;&#xA;" Helpfile="" splitProcessing="False" MenuLocation="{x:Null}" OutputDefinition="" Width="550" Command="False" Height="480" HelpText="&lt;html&gt;&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;.c0 { color: Black } .c1 { margin: 0px 0px 10px } .c2 { font-size: 14.6666666666667px; font-weight: bold; font-family: 'Times New Roman' } .c3 { font-family: 'Times New Roman'; font-size: 14.6666666666667px } .c4 { font-family: 'Times New Roman'; color: Black; font-style: normal; font-weight: normal; text-indent: 0px; font-size: 14.6666666666667px } .c5 { border-spacing: 0px; width: 643px } .c6 { width: 245px } .c7 { width: 382px } .c8 { vertical-align: middle } .c9 { vertical-align: top } .c10 { padding: 0px; vertical-align: top; width: 245px } .c11 { margin: 0px 0px 9px; line-height: 1.2 } .c12 { padding: 0px; vertical-align: top; width: 382px } .c13 { color: Black; font-family: 'Times New Roman'; font-size: 18.6666666666667px; font-style: normal; font-weight: normal; text-indent: 0px; background-color: White } .c14 { font-size: 14.6666666666667px } .c15 { font-family: 'Times New Roman'; color: Black; font-style: normal; font-weight: normal; text-indent: 0px; background-color: White; font-size: 14.6666666666667px } .c16 { font-size: 12px; font-weight: bold } .c17 { font-size: 12px } &lt;/style&gt;&lt;/head&gt;&lt;body class=&quot;c0&quot;&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Description&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Applies a function across all rows of the selected variables (columns) in a dataset. We use the select function and the pipe ( %&amp;gt;% ) operator from the dplyr package to select the variables whose rows we will apply a function to. (These variables are piped into the apply function)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;&amp;#x200b;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Usage&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;dataset_name$new_variable &amp;lt;-dataset_name &amp;#160;%&amp;gt;% select(var1,var2) %&amp;gt;% apply(1, function_name, na.rm = TRUE)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;span&gt;&lt;span class=&quot;c4&quot;&gt;apply(X, MARGIN, FUN, ...)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Arguments&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table class=&quot;c5&quot;&gt;&lt;col class=&quot;c6&quot;/&gt;&lt;col class=&quot;c7&quot;/&gt;&lt;tbody class=&quot;c8&quot;&gt;&lt;tr class=&quot;c9&quot;&gt;&lt;td class=&quot;c10&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;X&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;c12&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;An array including a matrix. The selected variables are piped in via dplyr&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;c9&quot;&gt;&lt;td class=&quot;c10&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;MARGIN&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;c12&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;The&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;c13&quot;&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;a vector giving the subscripts which the function will be applied over. E.g., for a matrix&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c15&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;c13&quot;&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;indicates rows,&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c15&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;c13&quot;&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;indicates columns,&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c15&quot;&gt;c(1, 2)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;c13&quot;&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;indicates rows and columns. Where&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c15&quot;&gt;X&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;c13&quot;&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;&amp;#160;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c14&quot;&gt;has named dimnames, it can be a character vector selecting dimension names.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;dataset that contains the variable var&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;c9&quot;&gt;&lt;td class=&quot;c10&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;FUN&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;c12&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;The function to be applied&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;c9&quot;&gt;&lt;td class=&quot;c10&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;&amp;#x200b;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;c12&quot;&gt;&lt;p class=&quot;c11&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;&amp;#x200b;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;&amp;#x200b;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;&amp;#x200b;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Value&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Computed values are stored directly in Dataset&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c16&quot;&gt;Packages&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c17&quot;&gt;dplyr&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c16&quot;&gt;Help&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c17&quot;&gt;help(apply)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;" RHelpText="help(apply)" Background="#FFFFFFFF" xmlns="clr-namespace:BSky.Controls;assembly=BSky.Controls" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:s="clr-namespace:System;assembly=mscorlib"><BSkySourceList CanExecute="True" Syntax="%%VALUE%%" summaryCtrl="False" PrefixTxt="{x:Null}" SepCharacter="{x:Null}" maxNoOfVariables="" SubstituteSettings="NoPrefix|UseComma" ordlevels="{x:Null}" nomlevels="{x:Null}" Name="source" AutoVar="False" renderVars="False" Filter="String|Numeric|Date|Ordinal|Nominal|Scale" Width="210" Height="385" Left="4" Top="82" Enabled="True" OverwriteSettings="{x:Null}" MoveVariables="True" SelectionMode="Extended"  AllowDrop="True" IsEnabled="True" Focusable="True" av:Canvas.Left="4" av:Canvas.Top="82" av:Grid.IsSharedSizeScope="True"><BSkySourceList.SelectionChangeBehaviour><BehaviourCollection Capacity="0" /></BSkySourceList.SelectionChangeBehaviour><BSkySourceList.Template><av:ControlTemplate TargetType="av:ListBox"><av:Border BorderThickness="1,1,1,1" CornerRadius="4,4,4,4" BorderBrush="#FF888888" Background="#FFFFFFFF"><av:ScrollViewer Margin="1,1,1,1" Focusable="False"><av:StackPanel IsItemsHost="True" Margin="0,0,0,0" /></av:ScrollViewer></av:Border></av:ControlTemplate></BSkySourceList.Template><BSkySourceList.Style><av:Style TargetType="av:ListBox"><av:Style.Resources><av:ResourceDictionary /></av:Style.Resources><av:Setter Property="av:UIElement.Effect"><av:Setter.Value><av:DropShadowEffect Color="#FFF5F5DC" /></av:Setter.Value></av:Setter></av:Style></BSkySourceList.Style></BSkySourceList><BSkyTargetList CanExecute="False" Syntax="%%VALUE%%" summaryCtrl="False" PrefixTxt="" SepCharacter="" maxNoOfVariables="" SubstituteSettings="NoPrefix|UseComma" ordlevels="" nomlevels="" Name="target" AutoVar="True" renderVars="False" Filter="Numeric|Logical|Scale" Width="291" Height="188" Left="250" Top="140" Enabled="True" OverwriteSettings="{x:Null}" MoveVariables="True" SelectionMode="Extended"  AllowDrop="True" IsEnabled="True" Focusable="True" av:Canvas.Left="250" av:Canvas.Top="140" av:Grid.IsSharedSizeScope="True"><BSkyTargetList.SelectionChangeBehaviour><BehaviourCollection Capacity="4"><Behaviour><Behaviour.Condition><Condition PropertyName="ItemsCount" Value="0" Operator="Equals" /></Behaviour.Condition><Behaviour.Setters><PropertySettersCollection Capacity="4"><PropertySetter ControlName="target" PropertyName="CanExecute" Value="false" /></PropertySettersCollection></Behaviour.Setters></Behaviour><Behaviour><Behaviour.Condition><Condition PropertyName="ItemsCount" Value="0" Operator="GreaterThan" /></Behaviour.Condition><Behaviour.Setters><PropertySettersCollection Capacity="4"><PropertySetter ControlName="target" PropertyName="CanExecute" Value="true" /></PropertySettersCollection></Behaviour.Setters></Behaviour></BehaviourCollection></BSkyTargetList.SelectionChangeBehaviour><BSkyTargetList.Template><av:ControlTemplate TargetType="av:ListBox"><av:Border BorderThickness="1,1,1,1" CornerRadius="4,4,4,4" BorderBrush="#FF888888" Background="#FFFFFFFF"><av:ScrollViewer Margin="1,1,1,1" Focusable="False"><av:StackPanel IsItemsHost="True" Margin="0,0,0,0" /></av:ScrollViewer></av:Border></av:ControlTemplate></BSkyTargetList.Template><BSkyTargetList.Style><av:Style TargetType="av:ListBox"><av:Style.Resources><av:ResourceDictionary /></av:Style.Resources><av:Setter Property="av:UIElement.Effect"><av:Setter.Value><av:DropShadowEffect Color="#FFF5F5DC" /></av:Setter.Value></av:Setter></av:Style></BSkyTargetList.Style></BSkyTargetList><BSkyVariableMoveButton Name="movebutton" InputList="source" TargetList="target" Width="30" Height="30" Left="215" Top="139" Padding="1,1,1,1" Tag="To Dest" Margin="2,2,2,2" av:Canvas.Left="215" av:Canvas.Top="139"><BSkyVariableMoveButton.Effect><av:DropShadowEffect ShadowDepth="0" Color="#C89B5F00" Direction="320" Opacity="1" /></BSkyVariableMoveButton.Effect><av:Grid><av:Image Source="pack://application:,,,/BSky.Controls;component/Resources/left.png" /></av:Grid></BSkyVariableMoveButton><BSkyLabel Name="srclbl" Text="Source Variables:" Width="105" Height="26" Left="0" Top="55" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="0" av:Canvas.Top="55">Source Variables:</BSkyLabel><BSkyLabel Name="sellbl" Text="Select Variables:" Width="128" Height="23" Left="246" Top="116" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="246" av:Canvas.Top="116">Select Variables:</BSkyLabel><BSkyLabel Name="tstval" Text="Select an operation to perform on all row (case) values:" Width="304" Height="26" Left="246" Top="339" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="246" av:Canvas.Top="339">Select an operation to perform on all row (case) values:</BSkyLabel><BSkyEditableComboBox Name="selectctrl" DefaultSelection="median" NothingSelected="log" prefixSelectedValue="" Width="120" Height="25" Left="250" Top="363" CanExecute="True" Enabled="True" Syntax="%%VALUE%%" IsEditable="True" Text="median" IsEnabled="True" av:Canvas.Left="250" av:Canvas.Top="363"><BSkyEditableComboBox.ComboBoxEntries><x:Null /></BSkyEditableComboBox.ComboBoxEntries><BSkyEditableComboBox.SelectionChangeBehaviour><BehaviourCollection Capacity="0" /></BSkyEditableComboBox.SelectionChangeBehaviour><s:String>mean</s:String><s:String>median</s:String><s:String>min</s:String><s:String>max</s:String><s:String>sd</s:String><s:String>sum</s:String><s:String>var</s:String></BSkyEditableComboBox><BSkyMultiLineLabel Name="mv" Width="538" Height="42" Left="5" Top="13" CanExecute="True" TextWrapping="Wrap" AcceptsTab="True" VerticalScrollBarVisibility="Auto" FontFamily="Segoe UI" FontSize="12" VerticalContentAlignment="Top" Template="{av:DynamicResource TextBoxControlTemplateMultiline}" av:Canvas.Left="5" av:Canvas.Top="13"><BSkyMultiLineLabel.Style><av:Style TargetType="av:TextBox"><av:Style.Resources><av:ResourceDictionary /></av:Style.Resources><av:Setter Property="av:UIElement.Effect"><av:Setter.Value><av:DropShadowEffect Color="#FFF5F5DC" /></av:Setter.Value></av:Setter></av:Style></BSkyMultiLineLabel.Style>Create a new variable or overwrite an existing variable by applying a function to all row values of the selected variable(s).</BSkyMultiLineLabel><BSkyTextBox PrefixTxt="{x:Null}" OverWriteExistingVariables="False" OverwriteSettings="DontPrompt" Name="newvar" Width="135" Height="30" Left="250" Top="83" SubstituteSettings="TextAsIs" CanExecute="True" Enabled="True" Syntax="%%VALUE%%" TextWrapping="Wrap" AcceptsTab="True" VerticalScrollBarVisibility="Auto" FontFamily="Segoe UI" FontSize="12" VerticalContentAlignment="Center" Template="{av:DynamicResource TextBoxBaseControlTemplate}" AllowDrop="True" IsEnabled="True" av:Canvas.Left="250" av:Canvas.Top="83" xml:space="preserve"><BSkyTextBox.TextChangedBehaviour><BehaviourCollection Capacity="0" /></BSkyTextBox.TextChangedBehaviour><BSkyTextBox.Style><av:Style TargetType="av:TextBox"><av:Style.Resources><av:ResourceDictionary /></av:Style.Resources><av:Setter Property="av:UIElement.Effect"><av:Setter.Value><av:DropShadowEffect Color="#FFF5F5DC" /></av:Setter.Value></av:Setter></av:Style></BSkyTextBox.Style></BSkyTextBox><BSkyLabel Name="lk" Text="Enter a new variable/Overwrite an existing variable:" Width="295" Height="26" Left="245" Top="56" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="245" av:Canvas.Top="56">Enter a new variable/Overwrite an existing variable:</BSkyLabel><BSkyVariableMoveButton Name="mv1" InputList="source" TargetList="newvar" Width="30" Height="30" Left="215" Top="82" Padding="1,1,1,1" Tag="To Dest" Margin="2,2,2,2" av:Canvas.Left="215" av:Canvas.Top="82"><BSkyVariableMoveButton.Effect><av:DropShadowEffect ShadowDepth="0" Color="#C89B5F00" Direction="320" Opacity="1" /></BSkyVariableMoveButton.Effect><av:Grid><av:Image Source="pack://application:,,,/BSky.Controls;component/Resources/left.png" /></av:Grid></BSkyVariableMoveButton></BSkyCanvas>