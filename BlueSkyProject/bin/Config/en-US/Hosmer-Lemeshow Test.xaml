<BSkyCanvas internalhelpfilename="{x:Null}" Title="Hosmer-Lemeshow Test" ModelClasses="{x:Null}" StatusTextBoxName="{x:Null}" customsyntax="{x:Null}" EditableComboBoxName="modelselector1" RPackages="MKmisc" CanExecute="True" PrereqCommandString="BSkyGetAvailableModels(c(&quot;glm&quot;))" CommandString="results &lt;-ModelMatchesDataset('{{modelselector1}}', '{{%DATASET%}}', NAinVarsCheck=FALSE ) &#xA;&#xA;if ( results$success ==TRUE)&#xA;{&#xA;if ( &quot;train&quot; %in% class({{modelselector1}}) )&#xA;{&#xA;BSkyFormat(MKmisc::HLgof.test(fit = fitted({{modelselector1}}$finalModel), obs = {{destination}}))&#xA;}&#xA;else&#xA;{&#xA;BSkyFormat(MKmisc::HLgof.test(fit = fitted({{modelselector1}}), obs = {{destination}}))&#xA;}&#xA;}" dlgsyntax="results &lt;-ModelMatchesDataset('{{modelselector1}}', '{{%DATASET%}}', NAinVarsCheck=FALSE ) &#xA;&#xA;if ( results$success ==TRUE)&#xA;{&#xA;if ( &quot;train&quot; %in% class({{modelselector1}}) )&#xA;{&#xA;BSkyFormat(MKmisc::HLgof.test(fit = fitted({{modelselector1}}$finalModel), obs = {{destination}}))&#xA;}&#xA;else&#xA;{&#xA;BSkyFormat(MKmisc::HLgof.test(fit = fitted({{modelselector1}}), obs = {{destination}}))&#xA;}&#xA;}" Helpfile="{x:Null}" splitProcessing="False" DatasetRequired="True" MenuLocation="{x:Null}" OutputDefinition="" Width="500" Command="False" Height="450" HelpText="&lt;html&gt;&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;.c0 { color: Black } .c1 { margin: 0px 0px 10px } .c2 { line-height: 1.15; font-size: 16px; font-family: 'Calibri','Trebuchet MS' } .c3 { font-weight: bold; line-height: 1.15; font-size: 16px; font-family: 'Calibri','Trebuchet MS' } .c4 { color: Black; font-family: 'Arial'; font-size: 13.3333333333333px; font-style: normal; text-indent: 0px; background-color: White } .c5 { color: Black; font-family: 'Arial'; font-size: 13.3333333333333px; font-style: normal; text-indent: 0px; background-color: White; font-weight: bold } &lt;/style&gt;&lt;/head&gt;&lt;body class=&quot;c0&quot;&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Hosmer-Lemeshow goodness of fit tests.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c3&quot;&gt;Description&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;The function computes Hosmer-Lemeshow goodness of fit tests for C and H statistic as well as the le Cessie-van Houwelingen-Copas-Hosmer unweighted sum of squares test for global goodness of fit.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Usage&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;HLgof.test(fit, obs, ngr = 10, X, verbose = FALSE)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Arguments&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;fit: numeric vector with fitted probabilities.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;obs: numeric vector with observed values.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;ngr: number of groups for C and H statistic.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;X: covariate(s) for le Cessie-van Houwelingen-Copas-Hosmer global goodness of fit test.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;verbose: logical, print intermediate results.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c3&quot;&gt;Details&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Hosmer-Lemeshow goodness of fit tests are computed; see Lemeshow and Hosmer (1982).&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;If X is specified, the le Cessie-van Houwelingen-Copas-Hosmer unweighted sum of squares test for global goodness of fit is additionally determined; see Hosmer et al. (1997). A more general version of this test is implemented in function residuals.lrm in package rms.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Value&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;A list of test results.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Author(s)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;Matthias Kohl Matthias.Kohl@stamats.de&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c3&quot;&gt;References&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;S. Lemeshow and D.W. Hosmer (1982). A review of goodness of fit statistics for use in the development of logistic regression models. American Journal of Epidemiology, 115(1), 92-106.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c2&quot;&gt;D.W. Hosmer, T. Hosmer, S. le Cessie, S. Lemeshow (1997). A comparison of goodness-of-fit tests for the logistic regression model. Statistics in Medicine, 16, 965-980.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c3&quot;&gt;See Also&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;residuals.lrm&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;c3&quot;&gt;Examples&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;set.seed(111)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;x1 &amp;lt;- factor(sample(1:3, 50, replace = TRUE))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;x2 &amp;lt;- rnorm(50)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;obs &amp;lt;- sample(c(0,1), 50, replace = TRUE)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;fit &amp;lt;- glm(obs ~ x1+x2, family = binomial)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;HLgof.test(fit = fitted(fit), obs = obs)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c2&quot;&gt;HLgof.test(fit = fitted(fit), obs = obs, X = model.matrix(obs ~ x1+x2))&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c3&quot;&gt;Package&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c4&quot;&gt;MKmisc&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c5&quot;&gt;Help&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;c1&quot;&gt;&lt;span&gt;&lt;span class=&quot;c4&quot;&gt;help(HLgof.test, package=&amp;quot;MKmisc&amp;quot;)&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;" RHelpText="help(HLgof.test, package=&quot;MKmisc&quot;)" Background="#FFFFFFFF" xmlns="clr-namespace:BSky.Controls;assembly=BSky.Controls" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation"><BSkySourceList CanExecute="True" Syntax="%%VALUE%%" summaryCtrl="False" PrefixTxt="{x:Null}" SepCharacter="{x:Null}" maxNoOfVariables="" SubstituteSettings="NoPrefix|UseComma" ordlevels="{x:Null}" nomlevels="{x:Null}" Name="source" AutoVar="False" renderVars="False" Filter="String|Numeric|Date|Logical|Ordinal|Nominal|Scale" Width="210" Height="324" Left="12.6666666666667" Top="110" Enabled="True" OverwriteSettings="{x:Null}" MoveVariables="True" SelectionMode="Extended"  AllowDrop="True" IsEnabled="True" Focusable="True" av:Canvas.Left="12.6666666666667" av:Canvas.Top="110" av:Grid.IsSharedSizeScope="True"><BSkySourceList.SelectionChangeBehaviour><BehaviourCollection Capacity="0" /></BSkySourceList.SelectionChangeBehaviour><BSkySourceList.Template><av:ControlTemplate TargetType="av:ListBox"><av:Border BorderThickness="1,1,1,1" CornerRadius="4,4,4,4" BorderBrush="#FF888888" Background="#FFFFFFFF"><av:ScrollViewer Margin="1,1,1,1" Focusable="False"><av:StackPanel IsItemsHost="True" Margin="0,0,0,0" /></av:ScrollViewer></av:Border></av:ControlTemplate></BSkySourceList.Template><BSkySourceList.Style><av:Style TargetType="av:ListBox"><av:Style.Resources><av:ResourceDictionary /></av:Style.Resources><av:Setter Property="av:UIElement.Effect"><av:Setter.Value><av:DropShadowEffect Color="#FFF5F5DC" /></av:Setter.Value></av:Setter></av:Style></BSkySourceList.Style></BSkySourceList><BSkyGroupingVariable Name="destination" Width="210" Height="30" Left="268.666666666666" Top="110" Filter="Numeric|Logical|Ordinal|Nominal|Scale" CanExecute="False" SubstituteSettings="Prefix|UseComma" Enabled="True" PrefixTxt="" SepCharacter="" nomlevels="" ordlevels="" Syntax="%%VALUE%%" IsEnabled="True" av:Canvas.Left="268.666666666666" av:Canvas.Top="110"><BSkyGroupingVariable.SelectionChangeBehaviour><BehaviourCollection Capacity="4"><Behaviour><Behaviour.Condition><Condition PropertyName="ItemsCount" Value="0" Operator="Equals" /></Behaviour.Condition><Behaviour.Setters><PropertySettersCollection Capacity="4"><PropertySetter ControlName="destination" PropertyName="CanExecute" Value="False" /></PropertySettersCollection></Behaviour.Setters></Behaviour><Behaviour><Behaviour.Condition><Condition PropertyName="ItemsCount" Value="1" Operator="GreaterThanEqualsTo" /></Behaviour.Condition><Behaviour.Setters><PropertySettersCollection Capacity="4"><PropertySetter ControlName="destination" PropertyName="CanExecute" Value="True" /></PropertySettersCollection></Behaviour.Setters></Behaviour></BehaviourCollection></BSkyGroupingVariable.SelectionChangeBehaviour><SingleItemList CanExecute="False" summaryCtrl="False" PrefixTxt="" SepCharacter="" maxNoOfVariables="" SubstituteSettings="Prefix|UseComma" ordlevels="" nomlevels="" AutoVar="True" renderVars="False" Filter="Numeric|Logical|Ordinal|Nominal|Scale" Left="NaN" Top="NaN" Enabled="True" OverwriteSettings="{x:Null}" MoveVariables="True" SelectionMode="Extended"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" AllowDrop="True" Focusable="True" av:Grid.IsSharedSizeScope="True"><SingleItemList.SelectionChangeBehaviour><BehaviourCollection Capacity="4"><Behaviour><Behaviour.Condition><Condition PropertyName="ItemsCount" Value="0" Operator="Equals" /></Behaviour.Condition><Behaviour.Setters><PropertySettersCollection Capacity="4"><PropertySetter ControlName="destination" PropertyName="CanExecute" Value="False" /></PropertySettersCollection></Behaviour.Setters></Behaviour><Behaviour><Behaviour.Condition><Condition PropertyName="ItemsCount" Value="1" Operator="GreaterThanEqualsTo" /></Behaviour.Condition><Behaviour.Setters><PropertySettersCollection Capacity="4"><PropertySetter ControlName="destination" PropertyName="CanExecute" Value="True" /></PropertySettersCollection></Behaviour.Setters></Behaviour></BehaviourCollection></SingleItemList.SelectionChangeBehaviour><SingleItemList.Template><av:ControlTemplate TargetType="av:ListBox"><av:Border BorderThickness="1,1,1,1" CornerRadius="4,4,4,4" BorderBrush="#FF888888" Background="#FFFFFFFF"><av:ScrollViewer Margin="1,1,1,1" Focusable="False"><av:StackPanel IsItemsHost="True" Margin="0,0,0,0" /></av:ScrollViewer></av:Border></av:ControlTemplate></SingleItemList.Template><SingleItemList.Style><av:Style TargetType="av:ListBox"><av:Style.Resources><av:ResourceDictionary /></av:Style.Resources><av:Setter Property="av:UIElement.Effect"><av:Setter.Value><av:DropShadowEffect Color="#FFF5F5DC" /></av:Setter.Value></av:Setter></av:Style></SingleItemList.Style></SingleItemList></BSkyGroupingVariable><BSkyEditableComboBox Name="modelselector1" DefaultSelection="" NothingSelected="{x:Null}" prefixSelectedValue="" Width="125" Height="25" Left="329" Top="43" CanExecute="True" Enabled="True" Syntax="%%VALUE%%" IsEditable="True" Text="" IsEnabled="True" av:Canvas.Left="329" av:Canvas.Top="43"><BSkyEditableComboBox.ComboBoxEntries><x:Null /></BSkyEditableComboBox.ComboBoxEntries><BSkyEditableComboBox.SelectionChangeBehaviour><BehaviourCollection Capacity="0" /></BSkyEditableComboBox.SelectionChangeBehaviour></BSkyEditableComboBox><BSkyLabel Name="lab2" Text="Select a generalized linear model (model of class glm):" Width="303.666666666667" Height="27.6" Left="8" Top="41" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="8" av:Canvas.Top="41">Select a generalized linear model (model of class glm):</BSkyLabel><BSkyLabel Name="lab3" Text="Source Variables:" Width="124.666666666667" Height="25" Left="8" Top="83.8" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="8" av:Canvas.Top="83.8">Source Variables:</BSkyLabel><BSkyVariableMoveButton Name="mv" InputList="source" TargetList="destination" Width="30" Height="30" Left="226" Top="110" Padding="1,1,1,1" Tag="To Dest" Margin="2,2,2,2" av:Canvas.Left="226" av:Canvas.Top="110"><BSkyVariableMoveButton.Effect><av:DropShadowEffect ShadowDepth="0" Color="#C89B5F00" Direction="320" Opacity="1" /></BSkyVariableMoveButton.Effect><av:Grid><av:Image Source="pack://application:,,,/BSky.Controls;component/Resources/left.png" /></av:Grid></BSkyVariableMoveButton><BSkyLabel Name="lab4" Text="Target Variable:" Width="115.2" Height="26.4666666666667" Left="263.333333333333" Top="84" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="263.333333333333" av:Canvas.Top="84">Target Variable:</BSkyLabel><BSkyLabel Name="lab" Text="NOTE: THE ACTIVE DATASET MUST BE THE SAME DATASET USED TO BUILD THE MODEL" Width="475.6" Height="29.8" Left="8" Top="10" CanExecute="False" FontFamily="Segoe UI" FontSize="12" av:Canvas.Left="8" av:Canvas.Top="10">NOTE: THE ACTIVE DATASET MUST BE THE SAME DATASET USED TO BUILD THE MODEL</BSkyLabel><BSkyLabelReqdField Name="ZZ" Text="*" Width="15" Height="25" Left="345.4" Top="79" CanExecute="False" Foreground="#FFFF0000" FontFamily="Segoe UI" FontSize="12" FontWeight="Bold" av:Canvas.Left="345.4" av:Canvas.Top="79">*</BSkyLabelReqdField><BSkyLabelReqdField Name="QQ" Text="*" Width="15" Height="25" Left="296.8" Top="34.4" CanExecute="False" Foreground="#FFFF0000" FontFamily="Segoe UI" FontSize="12" FontWeight="Bold" av:Canvas.Left="296.8" av:Canvas.Top="34.4">*</BSkyLabelReqdField></BSkyCanvas>